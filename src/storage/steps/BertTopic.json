{
  "id": "BertTopic",
  "name": "BERT Topic Modeling",
  "description": "Finds and assigns topics in a batch of texts using BERT embeddings.",
  "tags": ["multiple texts only", "advanced"],
  "parameters": {
    "input column": {
      "type": "string",
      "description": "When using CSV, defines the column to use this operation on. Defaults to 'text'",
      "input": {
        "type": "column_select"
      },
      "default": "text"
    },
    "output column": {
      "type": "string",
      "default": ["text"],
      "description": "When using CSV, defines the existing or new column name to write the output to. Leave empty to overwrite input.",
      "input": {
        "type": "text_field"
      }
    },
    "topic modeling": {
      "type": "complex",
      "description": "Configuration for topic modeling using BERTopic.",
      "language": {
        "type": "string",
        "description": "The language used for BERTopic embeddings.",
        "input": {
          "type": "list",
          "possibilities": ["english", "german", "multilingual"]
        },
        "default": "english"
      },
      "min_cluster_size": {
        "type": "int",
        "default": 10,
        "input": {
          "type": "slider",
          "min": 1,
          "max": 100,
          "step": 1
        },
        "description": "The minimum size of topic clusters."
      },
      "vectorizer": {
        "type": "complex",
        "description": "Optional configuration for CountVectorizer used in BERTopic.",
        "max_df": {
          "type": "float",
          "default": 0.95,
          "input": {
            "type": "slider",
            "min": 0,
            "max": 1,
            "step": 0.05
          },
          "description": "Ignore terms with document frequency (%) higher than this."
        },
        "min_df": {
          "type": "int",
          "default": 2,
          "input": {
            "type": "slider",
            "min": 1,
            "max": 100,
            "step": 1
          },
          "description": "Ignore terms with document frequency lower than this, measured in the number of documents."
        }
      },
      "Use verbose progress reporting" : {
        "type": "bool",
        "default": false,
        "description": "If checked, the progress of the topic modeling process will be reported in the console. Care! his will have severe impact on performance as embeddings will be calculated manually."
      }
    }
  },
  "inputs": {
    "data": "CSV[]"
  },
  "outputs": {
    "data": "CSV[]",
    "visualization": "html"
  }
}
